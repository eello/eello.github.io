<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SAM Deploy Error - ClassNotFoundException</title>
    <link rel="stylesheet" href="../styles/main.css">
    <!-- Highlight.js Themes -->
    <link rel="stylesheet" id="hljs-theme-light"
        href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-light.min.css" disabled>
    <link rel="stylesheet" id="hljs-theme-dark"
        href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css" disabled>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script
        src="https://cdnjs.cloudflare.com/ajax/libs/highlightjs-line-numbers.js/2.8.0/highlightjs-line-numbers.min.js"></script>
    <script>
        // Theme initialization
        const savedTheme = localStorage.getItem('theme') || (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
        document.documentElement.setAttribute('data-theme', savedTheme);

        // Load initial hljs theme
        document.addEventListener('DOMContentLoaded', () => {
            const isDark = document.documentElement.getAttribute('data-theme') === 'dark';
            document.getElementById(isDark ? 'hljs-theme-dark' : 'hljs-theme-light').removeAttribute('disabled');
            hljs.highlightAll();
            hljs.initLineNumbersOnLoad({ singleLine: true });
        });
    </script>
</head>

<body>
    <header class="mobile-header">
        <div class="mobile-logo">My Blog</div>
        <button id="menu-toggle" class="menu-toggle">â˜°</button>
    </header>

    <!-- ì™¼ìª½ ì‚¬ì´ë“œë°”: ì¹´í…Œê³ ë¦¬ ë° í¬ìŠ¤íŠ¸ ëª©ë¡ -->
    <aside id="sidebar" class="sidebar">
        <h2 class="sidebar-title"><a href="../" class="sidebar-home-link">eello</a></h2>
        <nav class="category-list">
                <div class="category-item depth-1">
                    <div class="category-name">Project</div>
                    <ul class="post-list"></ul>
                    
                <div class="category-item depth-2">
                    <div class="category-name">SPH</div>
                    <ul class="post-list">
                <li class="post-item">
                    <a href="../sam-deploy-error---classnotfoundexception/" class="post-link active">SAM Deploy Error - ClassNotFoundException</a>
                </li>
            </ul>
                    
                </div>
            
                </div>
            
                <div class="category-item depth-1">
                    <div class="category-name">ê°œë°œ</div>
                    <ul class="post-list"></ul>
                    
                <div class="category-item depth-2">
                    <div class="category-name">tech</div>
                    <ul class="post-list">
                <li class="post-item">
                    <a href="../ì¿ íŒ¡-ìœ ì¶œ/" class="post-link ">ì¿ íŒ¡ ìœ ì¶œ</a>
                </li>
            </ul>
                    
                <div class="category-item depth-3">
                    <div class="category-name">test</div>
                    <ul class="post-list">
                <li class="post-item">
                    <a href="../ë””ìì¸-í…ŒìŠ¤íŠ¸/" class="post-link ">design test</a>
                </li>
            </ul>
                    
                </div>
            
                </div>
            
                <div class="category-item depth-2">
                    <div class="category-name">spring</div>
                    <ul class="post-list">
                <li class="post-item">
                    <a href="../@transactional-ì´í•´í•˜ê¸°/" class="post-link ">@Transactional ì´í•´í•˜ê¸°</a>
                </li>
            </ul>
                    
                </div>
            
                </div>
            
                <div class="category-item depth-1">
                    <div class="category-name">Uncategorized</div>
                    <ul class="post-list">
                <li class="post-item">
                    <a href="../sam-deploy-error---basepathmapping-create-failed/" class="post-link ">SAM Deploy Error - BasePathMapping Create Failed</a>
                </li>
            </ul>
                    
                </div>
            </nav>

        <div class="theme-toggle-container">
            <button id="theme-toggle" class="theme-toggle-btn">
                <span class="icon">ğŸŒ“</span>
                <span class="text">Switch to Dark Mode</span>
            </button>
        </div>
    </aside>

    <!-- ì¤‘ì•™ ë³¸ë¬¸ ì˜ì—­ -->
    <main class="main-wrapper">
        <div class="content-container">
            <article class="article-content">
                <header class="article-header">
                    <h1 class="article-title">SAM Deploy Error - ClassNotFoundException</h1>
                    <div class="article-meta">
                        <div>Published on 2025-12-30</div>
                        <div>Category: Project > SPH</div>
                    </div>
                </header>

                <section class="body">
                    <h2 id="ë¬¸ì œ-ìƒí™©">ë¬¸ì œ ìƒí™©</h2>
<p><a href="../sam-deploy-error---basepathmapping-create-failed/">BasePathMapping Create Failed</a> ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ” ê³¼ì •ì—ì„œ template.yaml íŒŒì¼ì„ Lambda + Api Gatewayì™€ BasePathMappingìœ¼ë¡œ ë‚˜ëˆ  ë°°í¬í–ˆì„ ë•Œ
API ìš”ì²­ ì‹œ ëŒë‹¤ í•¨ìˆ˜ì—ì„œ ì •ì˜ëœ í•¸ë“¤ëŸ¬ í´ë˜ìŠ¤ë¥¼ ì°¾ì§€ ëª»í•˜ëŠ” <code>ClassNotFoundException</code> ë°œìƒ</p>
<div class="code-block-wrapper">
    <div class="code-block-header">
        <span class="code-lang">json</span>
        <span class="code-copy">Copy</span>
    </div>
    <pre class="code-block language-json"><code class="code-inner">{
	&quot;timestamp&quot;: &quot;2025-12-02T01:43:29.091Z&quot;,
	&quot;message&quot;: &quot;Class not found: site.eello.sph.auth.handler.AuthTokenHandler: java.lang.ClassNotFoundException\njava.lang.ClassNotFoundException: site.eello.sph.auth.handler.AuthTokenHandler\n\tat java.base/java.net.URLClassLoader.findClass(Unknown Source)\n\tat java.base/java.lang.ClassLoader.loadClass(Unknown Source)\n\tat java.base/java.lang.ClassLoader.loadClass(Unknown Source)\n\tat java.base/java.lang.Class.forName0(Native Method)\n\tat java.base/java.lang.Class.forName(Unknown Source)\n\tat java.base/java.lang.Class.forName(Unknown Source)\n\n&quot;,
	&quot;level&quot;: &quot;ERROR&quot;
}
</code></pre>
</div>
<h3 id="í…œí”Œë¦¿-íŒŒì¼">í…œí”Œë¦¿ íŒŒì¼</h3>
<ul>
<li><strong>í†µí•© í…œí”Œë¦¿(template.yaml)</strong>
<img src="images/template.yaml" alt=""></li>
<li><strong>ë¶„ë¦¬ í…œí”Œë¦¿</strong>
<ul>
<li><strong>sph-api-stack.yaml</strong>
<img src="images/sph-api-stack.yaml" alt=""></li>
<li><strong>sph-domain-stack.yaml</strong>
<img src="images/sph-domain-stack.yaml" alt=""></li>
</ul>
</li>
</ul>
<h3 id="ë°°í¬-ëª…ë ¹ì–´">ë°°í¬ ëª…ë ¹ì–´</h3>
<div class="code-block-wrapper">
    <div class="code-block-header">
        <span class="code-lang">shell</span>
        <span class="code-copy">Copy</span>
    </div>
    <pre class="code-block language-shell"><code class="code-inner"># API ìŠ¤íƒ(Lambda + API GW) ë°°í¬
sam build --template-file sph-api-stack.yaml
sam deploy --config-file samconfig-api.toml --template-file sph-api-stack.yaml

# Domain ìŠ¤íƒ(BasePathMapping) ë°°í¬
sam deploy --config-file samconfig-domain.toml --template-file sph-domain-stack.yaml
</code></pre>
</div>
<h2 id="ì›ì¸-íŒŒì•…">ì›ì¸ íŒŒì•…</h2>
<ul>
<li>[x] <code>.aws-sam/build</code> ë‚´ì— ë¹Œë“œëœ í•¸ë“¤ëŸ¬ í´ë˜ìŠ¤ê°€ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸</li>
<li>[x] ë°°í¬ ì‹œ ì •ìƒì ìœ¼ë¡œ ë¹Œë“œê°€ ëëŠ”ì§€ í™•ì¸í•˜ê¸° ìœ„í•´ Lambda í•¨ìˆ˜ ì½˜ì†”ì—ì„œ ë°°í¬ëœ ì½”ë“œ zip íŒŒì¼ì„ ë‹¤ìš´ë¡œë“œí•´ í•¸ë“¤ëŸ¬ í´ë˜ìŠ¤ê°€ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸
<ul>
<li>í•˜ë‚˜ë¡œ ë°°í¬í–ˆì„ ë•Œì™€ ë¹„êµí•˜ì§€ ì•Šê³  ë¶„ë¦¬í•´ ë°°í¬í–ˆì„ ë•Œ í•¸ë“¤ëŸ¬ í´ë˜ìŠ¤ê°€ ì¡´ì¬í•˜ëŠ”ì§€ë§Œ í™•ì¸í•¨</li>
</ul>
</li>
</ul>
<p>template.yaml í•˜ë‚˜ë¡œ ë°°í¬í–ˆì„ ë•ŒëŠ” ì •ìƒì ìœ¼ë¡œ ë™ì‘í•˜ê¸° ë•Œë¬¸ì— ë°°í¬ëœ ì½”ë“œ zip íŒŒì¼ì„ ë¹„êµí•´ ë´¤ì„ ë•Œ ë‘ íŒŒì¼ì˜ íŒŒì¼ êµ¬ì¡°ë„ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.</p>
<ul>
<li>
<p>ë¶„ë¦¬ í…œí”Œë¦¿(sph-api-stack.yaml)ë¡œ ë°°í¬ëœ zip íŒŒì¼ êµ¬ì¡°</p>
<div class="code-block-wrapper">
    <div class="code-block-header">
        <span class="code-lang">text</span>
        <span class="code-copy">Copy</span>
    </div>
    <pre class="code-block language-"><code class="code-inner">.
â”œâ”€â”€ build.gradle
â””â”€â”€ src
    â””â”€â”€ main
        â””â”€â”€ java
            â””â”€â”€ site
                â””â”€â”€ eello
                    â””â”€â”€ sph
                        â””â”€â”€ auth
                            â”œâ”€â”€ dto
                            â”‚Â Â  â”œâ”€â”€ AuthTokenRequest.java
                            â”‚Â Â  â””â”€â”€ AuthTokenResponse.java
                            â””â”€â”€ handler
                                â””â”€â”€ AuthTokenHandler.java
</code></pre>
</div>
</li>
<li>
<p>í†µí•© í…œí”Œë¦¿(template.yaml)ë¡œ ë°°í¬ëœ zip íŒŒì¼ êµ¬ì¡°</p>
</li>
</ul>
<div class="code-block-wrapper">
    <div class="code-block-header">
        <span class="code-lang">text</span>
        <span class="code-copy">Copy</span>
    </div>
    <pre class="code-block language-"><code class="code-inner">.
â”œâ”€â”€ lib
â”‚Â Â  â”œâ”€â”€ annotations-2.38.2.jar
â”‚Â Â  â”œâ”€â”€ apache-client-2.38.2.jar
â”‚Â Â  â”œâ”€â”€ ...
â”‚Â Â  â””â”€â”€ utils-lite-2.38.2.jar
â”œâ”€â”€ META-INF
â”‚Â Â  â””â”€â”€ MANIFEST.MF
â””â”€â”€ site
    â””â”€â”€ eello
        â””â”€â”€ sph
            â””â”€â”€ auth
                â”œâ”€â”€ dto
                â”‚Â Â  â”œâ”€â”€ AuthTokenRequest.class
                â”‚Â Â  â””â”€â”€ AuthTokenResponse.class
                â””â”€â”€ handler
                    â””â”€â”€ AuthTokenHandler.class
</code></pre>
</div>
<p>zip íŒŒì¼ì„ ë¹„êµí•´ë´¤ì„ ë•Œ, template.yaml í•˜ë‚˜ë¡œ ë°°í¬í–ˆì„ ë•ŒëŠ” ë¹Œë“œëœ ê²°ê³¼(.java â†’ .class)ê°€ zip íŒŒì¼ë¡œ ë§Œë“¤ì–´ì ¸ ë°°í¬ë˜ì—ˆê³  ë¶„ë¦¬í•´ ë°°í¬í–ˆì„ ë•ŒëŠ” gradle ë¹Œë“œê°€ ëœê²Œ ì•„ë‹ˆë¼ ì†ŒìŠ¤ì½”ë“œ(.java) ê·¸ëŒ€ë¡œ zip íŒŒì¼ë¡œ ë§Œë“¤ì–´ì ¸ ë°°í¬ëœ ê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤. ì»´íŒŒì¼ëœ í•¸ë“¤ëŸ¬ í´ë˜ìŠ¤ê°€ ì—†ê¸° ë•Œë¬¸ì— JVMì—ì„œ ë¡œë“œí•  ìˆ˜ ì—†ì–´ ë°œìƒí•œ ê²ƒì´ë‹¤.</p>
<h3 id="ë¹Œë“œëœ-ê²°ê³¼ê°€-ì•„ë‹Œ-ì†ŒìŠ¤ì½”ë“œ-ì›ë³¸ì´-zipìœ¼ë¡œ-ë°°í¬ë˜ëŠ”-ì´ìœ ">ë¹Œë“œëœ ê²°ê³¼ê°€ ì•„ë‹Œ ì†ŒìŠ¤ì½”ë“œ ì›ë³¸ì´ Zipìœ¼ë¡œ ë°°í¬ë˜ëŠ” ì´ìœ </h3>
<p><code>sam deploy</code> ëª…ë ¹ì–´ ì²˜ëŸ¼ íŠ¹ì • í…œí”Œë¦¿ íŒŒì¼ì„ ì§€ì •í•˜ì§€ ì•Šê³  ë°°í¬ë¥¼ í•˜ê²Œ ë˜ë©´ ìë™ìœ¼ë¡œ template.yaml íŒŒì¼ì„ ì°¾ì•„ì„œ ì´ë¥¼ ë°”íƒ•ìœ¼ë¡œ ë°°í¬í•˜ê²Œ ëœë‹¤.
ì´ë•Œ, ì¤‘ìš”í•œ ì ì€ í•´ë‹¹ template.yaml íŒŒì¼ì€ <strong>í”„ë¡œì íŠ¸ ë£¨íŠ¸ì— ì¡´ì¬í•˜ëŠ” template.yamlì´ ì•„ë‹Œ .aws-sam/build/template.yaml</strong> ì´ë¼ëŠ” ì ì´ë‹¤.</p>
<p>í”„ë¡œì íŠ¸ ë£¨íŠ¸ì˜ <code>template.yaml</code>ê³¼ <code>.aws-sam/build/template.yaml</code>ì€ ìš©ë„ê°€ ë‹¤ë¥´ë‹¤.</p>
<ul>
<li><code>template.yaml</code>: sam buildí•  ë•Œ ì‚¬ìš©ë˜ëŠ” í…œí”Œë¦¿ íŒŒì¼</li>
<li><code>.aws-sam/build/tmeplate.yaml</code>: sam deployí•  ë•Œ ì‚¬ìš©í•˜ëŠ” í…œí”Œë¦¿ íŒŒì¼</li>
</ul>
<p>ê°œë°œìê°€ ì§ì ‘ ì‘ì„±í•˜ëŠ” í”„ë¡œì íŠ¸ ë£¨íŠ¸ì˜ <code>template.yaml</code>ì— ë¦¬ì†ŒìŠ¤ &gt; í•¨ìˆ˜ë¥¼ ë³´ë©´ CodeUri ì†ì„±ì€ í”„ë¡œì íŠ¸ ë‚´ì—ì„œ ì¡´ì¬í•˜ëŠ” í•¨ìˆ˜ í´ë”(ì˜ˆ: functions/auth-token)ë¥¼ ì§€ì •í•œë‹¤. aws buildëŠ” ì´ í´ë”(í•¨ìˆ˜ í”„ë¡œì íŠ¸)ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë¹Œë“œí•˜ê²Œ ëœë‹¤.</p>
<p><code>.aws-sam/build/template.yaml</code>ì—ì„œ ë˜‘ê°™ì´ ë¦¬ì†ŒìŠ¤ &gt; í•¨ìˆ˜ë¥¼ ë³´ë©´ í”„ë¡œì íŠ¸ ë£¨íŠ¸ì— ì‘ì„±í•œ functions/auth-tokenê³¼ ê°™ì´ í•¨ìˆ˜ í”„ë¡œì íŠ¸ê°€ ì§€ì •ëœ ê²ƒì´ ì•„ë‹ˆë¼ AuthTokenFunction ì²˜ëŸ¼ ë¹Œë“œëœ ê²°ê³¼ ë§Œë“¤ì–´ì§„ í”„ë¡œì íŠ¸ í´ë”ë¥¼ ê°€ë¦¬í‚¤ê²Œ ëœë‹¤. <code>sam deploy</code>ë¥¼ í•˜ê²Œ ë˜ë©´ <code>.aws-sam/build/template.yaml</code>ì˜ í•¨ìˆ˜ì˜ CodeUrië¥¼ ë³´ê³  í•´ë‹¹ í”„ë¡œì íŠ¸ í´ë”ë¥¼ ê¸°ì¤€ìœ¼ë¡œ Zipì„ ë§Œë“¤ì–´ì„œ ë°°í¬í•˜ê²Œ ëœë‹¤.</p>
<p>ì§€ê¸ˆê¹Œì§€ ì‹¤í–‰í–ˆë˜ deploy ëª…ë ¹ì–´ë¥¼ ë³´ë©´ <code>{shell} sam deploy --config-file samconfig-api.toml --template-file sph-api-stack.yaml</code>ì´ë‹¤.
ì—¬ê¸°ì„œ ë³´ë©´ --template-file ì˜µì…˜ìœ¼ë¡œ ë”°ë¡œ ë¶„ë¦¬í•œ ìŠ¤íƒì— ëŒ€í•œ í…œí”Œë¦¿ íŒŒì¼ì„ ì§€ì •í•˜ê³  ìˆë‹¤. í•˜ì§€ë§Œ í•´ë‹¹ í…œí”Œë¦¿ íŒŒì¼ì€ sam buildë¡œ ìƒì„±ëœê²Œ ì•„ë‹ˆë¼ ê°œë°œìê°€ ì‘ì„±í•œ íŒŒì¼ì´ê³  ê° í•¨ìˆ˜ì— ëŒ€í•œ CodeUri ê²½ë¡œëŠ” ì›ë³¸ ì†ŒìŠ¤ì½”ë“œê°€ ì¡´ì¬í•˜ëŠ” í”„ë¡œì íŠ¸ í´ë”(ì˜ˆ: functions/auth-token)ê°€ ëœë‹¤. ì¦‰, ë°°í¬í•  ë•Œ ë¹Œë“œëœ í´ë”ê°€ ì•„ë‹Œ ì›ë³¸ í”„ë¡œì íŠ¸ í´ë”ë¥¼ Zipìœ¼ë¡œ ë§Œë“¤ì–´ ë°°í¬í•˜ê¸° ë•Œë¬¸ì— ì»´íŒŒì¼ëœ í•¸ë“¤ëŸ¬ í´ë˜ìŠ¤ê°€ ì—†ì–´ <code>ClassNotFoundException</code>ì´ ë°œìƒí•˜ê²Œ ë˜ëŠ” ê²ƒì´ë‹¤.</p>
<div class="callout callout-note">
            <div class="callout-header">
                <span class="callout-icon"></span>
                <div class="callout-title">NOTE</div>
            </div>
            <div class="callout-content">â€“template-file ì˜µì…˜ì„ ë”°ë¡œ ì‘ì„±í•˜ì§€ ì•Šìœ¼ë©´ ê¸°ë³¸ì ìœ¼ë¡œ template.yaml íŒŒì¼ì„ ì°¸ì¡°í•˜ê²Œ ë˜ê³  ì´ë•ŒëŠ” ë‹¤ìŒê³¼ ê°™ì€ ìˆœì„œë¡œ template.yaml íŒŒì¼ì„ ì°¾ì•„ ì‚¬ìš©í•˜ê²Œ ëœë‹¤.
<ol>
<li><code>.aws-sam/build/template.yaml</code></li>
<li>ë£¨íŠ¸ ë””ë ‰í† ë¦¬ì˜ <code>template.yaml</code> ë˜ëŠ” <code>template.yml</code></li>
</ol>
<p>ë¶„ë¦¬í•˜ê¸° ì „ì—ëŠ” ì•Œì•„ì„œ ì²˜ë¦¬ë˜ê¸° ë•Œë¬¸ì— ë¬¸ì œì—†ì´ ë°°í¬ê°€ ê°€ëŠ¥í•œ ê²ƒì´ì—ˆë‹¤.</p></div>
        </div>
<p>ì¦‰, ì •í™•í•œ ì›ì¸ì€ ë°°í¬ ì‹œ CodeUrië¡œ ì§€ì •ëœ í”„ë¡œì íŠ¸ í´ë”ë¥¼ Zipìœ¼ë¡œ ë§Œë“¤ì–´ì„œ ì—…ë¡œë“œí•˜ê²Œ ë˜ëŠ”ë° í˜„ì¬ ì‚¬ìš©ë˜ëŠ” í…œí”Œë¦¿ íŒŒì¼ì˜ CodeUriê°€ ì†ŒìŠ¤ì½”ë“œ ì›ë³¸ì´ í¬í•¨ëœ í•¨ìˆ˜ í”„ë¡œì íŠ¸ì˜ ê²½ë¡œë¥¼ ê°€ë¦¬í‚¤ê³  ìˆì–´ ì›ë³¸ ê·¸ëŒ€ë¡œ Zipì´ ë§Œë“¤ì–´ì ¸ ë°°í¬ë˜ê¸° ë•Œë¬¸ì´ë‹¤.</p>
<h2 id="í•´ê²°">í•´ê²°</h2>
<p>ì›ì¸ì„ íŒŒì•…í–ˆìœ¼ë‹ˆ í•´ê²° ë°©ë²•ì€ ê°„ë‹¨í•˜ë‹¤.</p>
<h3 id="1-sam-deploy-ì‹œ---template-file-ì˜µì…˜-ì§€ì •-x">1. sam deploy ì‹œ --template-file ì˜µì…˜ ì§€ì • X</h3>
<p>í˜„ì¬ ë¬¸ì œê°€ deploy ì‹œ --template-file ì˜µì…˜ìœ¼ë¡œ ë£¨íŠ¸ ë””ë ‰í† ë¦¬ì˜ sph-api-stack.yamlì„ ì§€ì •í•˜ê³  í•´ë‹¹ íŒŒì¼ì— CodeUri ë¶€ë¶„ì´ ì›ë³¸ í•¨ìˆ˜ í”„ë¡œì íŠ¸ë¥¼ ê°€ë¦¬í‚¤ê³  ìˆê¸° ë•Œë¬¸ì— ë°œìƒí•œ ê²ƒì´ë‹¤. ë”°ë¼ì„œ, ë£¨íŠ¸ ë””ë ‰í† ë¦¬ì˜ í…œí”Œë¦¿ íŒŒì¼ì´ ì•„ë‹Œ ë¹Œë“œëœ í…œí”Œë¦¿ íŒŒì¼ì„ ì§€ì •í•´ ë¹Œë“œëœ í”„ë¡œì íŠ¸ í´ë”ë¥¼ ê°€ë¦¬í‚¤ê²Œ ë§Œë“¤ë©´ ëœë‹¤.</p>
<p><code>sam build --template-file sph-api-stack.yaml</code>ë¡œ ë¹Œë“œë¥¼ í•˜ë”ë¼ë„ <code>.aws-sam/build</code> ì•ˆì— <code>template.yaml</code>ì´ ìƒì„±ëœë‹¤.
ë”°ë¼ì„œ deploy ì‹œ --template-file ì˜µì…˜ì„ ì§€ì •í•˜ì§€ ì•Šìœ¼ë©´ ê¸°ë³¸ì ìœ¼ë¡œ <code>.aws-sam/build/template.yaml</code> ì„ ì°¸ì¡°í•˜ê²Œ ë˜ê³  ë¹Œë“œëœ í…œí”Œë¦¿ íŒŒì¼ì˜ CodeUriëŠ” ë¹Œë“œëœ í•¨ìˆ˜ í”„ë¡œì íŠ¸ë¥¼ ê°€ë¦¬í‚¤ê²Œ ë˜ë¯€ë¡œ ì˜¤ë¥˜ë¥¼ í•´ê²°í•  ìˆ˜ ìˆë‹¤.</p>
<div class="code-block-wrapper">
    <div class="code-block-header">
        <span class="code-lang">shell</span>
        <span class="code-copy">Copy</span>
    </div>
    <pre class="code-block language-shell"><code class="code-inner"># API ìŠ¤íƒ(Lambda + API GW) ë°°í¬
# sam build ì‹œì—ëŠ” --template-file ì˜µì…˜ìœ¼ë¡œ sph-api-stack.yaml ì§€ì • í•„ìš”
sam build --template-file sph-api-stack.yaml
sam deploy --config-file samconfig-api.toml
</code></pre>
</div>
<h3 id="2---template-file-ì˜µì…˜ì—ì„œ-ëª…ì‹œì ìœ¼ë¡œ-aws-sambuildtemplateyaml-ì§€ì •">2. --template-file ì˜µì…˜ì—ì„œ ëª…ì‹œì ìœ¼ë¡œ .aws-sam/build/template.yaml ì§€ì •</h3>
<p><code>sam deploy --template-file .aws-sam/build/template.yaml</code>ì„ í•˜ê²Œë˜ë©´ ë°°í¬í•  ë•Œ SAMì— ì˜í•´ ë¹Œë“œëœ í…œí”Œë¦¿ íŒŒì¼ì„ ì‚¬ìš©í•˜ë¯€ë¡œ ë¹Œë“œëœ í•¨ìˆ˜ í”„ë¡œì íŠ¸ë¥¼ Zip íŒŒì¼ë¡œ ë°°í¬í•  ìˆ˜ ìˆê²Œ ëœë‹¤.</p>

                </section>
            </article>

            <!-- ì˜¤ë¥¸ìª½ ì‚¬ì´ë“œë°”: TOC -->
            <aside class="toc-sidebar">
                <h3 class="toc-title">ON THIS PAGE</h3>
                <nav>
                    <ul class="toc-list">
                <li class="toc-item" style="margin-left: 0px">
                    <a href="#ë¬¸ì œ-ìƒí™©" class="toc-link">ë¬¸ì œ ìƒí™©</a>
                </li>
            
                <li class="toc-item" style="margin-left: 16px">
                    <a href="#í…œí”Œë¦¿-íŒŒì¼" class="toc-link">í…œí”Œë¦¿ íŒŒì¼</a>
                </li>
            
                <li class="toc-item" style="margin-left: 16px">
                    <a href="#ë°°í¬-ëª…ë ¹ì–´" class="toc-link">ë°°í¬ ëª…ë ¹ì–´</a>
                </li>
            
                <li class="toc-item" style="margin-left: 0px">
                    <a href="#ì›ì¸-íŒŒì•…" class="toc-link">ì›ì¸ íŒŒì•…</a>
                </li>
            
                <li class="toc-item" style="margin-left: 16px">
                    <a href="#ë¹Œë“œëœ-ê²°ê³¼ê°€-ì•„ë‹Œ-ì†ŒìŠ¤ì½”ë“œ-ì›ë³¸ì´-zipìœ¼ë¡œ-ë°°í¬ë˜ëŠ”-ì´ìœ " class="toc-link">ë¹Œë“œëœ ê²°ê³¼ê°€ ì•„ë‹Œ ì†ŒìŠ¤ì½”ë“œ ì›ë³¸ì´ Zipìœ¼ë¡œ ë°°í¬ë˜ëŠ” ì´ìœ </a>
                </li>
            
                <li class="toc-item" style="margin-left: 0px">
                    <a href="#í•´ê²°" class="toc-link">í•´ê²°</a>
                </li>
            
                <li class="toc-item" style="margin-left: 16px">
                    <a href="#1-sam-deploy-ì‹œ---template-file-ì˜µì…˜-ì§€ì •-x" class="toc-link">1. sam deploy ì‹œ --template-file ì˜µì…˜ ì§€ì • X</a>
                </li>
            
                <li class="toc-item" style="margin-left: 16px">
                    <a href="#2---template-file-ì˜µì…˜ì—ì„œ-ëª…ì‹œì ìœ¼ë¡œ-aws-sambuildtemplateyaml-ì§€ì •" class="toc-link">2. --template-file ì˜µì…˜ì—ì„œ ëª…ì‹œì ìœ¼ë¡œ .aws-sam/build/template.yaml ì§€ì •</a>
                </li>
            </ul>
                </nav>
            </aside>
        </div>
    </main>

    <script>
        const themeToggle = document.getElementById('theme-toggle');
        const themeText = themeToggle.querySelector('.text');

        function updateToggleButton(theme) {
            themeText.textContent = theme === 'dark' ? 'Switch to Light Mode' : 'Switch to Dark Mode';
        }

        updateToggleButton(document.documentElement.getAttribute('data-theme'));

        themeToggle.addEventListener('click', () => {
            const currentTheme = document.documentElement.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';

            document.documentElement.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
            updateToggleButton(newTheme);

            // Toggle hljs themes
            document.getElementById('hljs-theme-light').disabled = newTheme === 'dark';
            document.getElementById('hljs-theme-dark').disabled = newTheme === 'light';
        });

        // Mobile menu toggle
        const menuToggle = document.getElementById('menu-toggle');
        const sidebar = document.getElementById('sidebar');

        menuToggle.addEventListener('click', () => {
            sidebar.classList.toggle('open');
        });

        // Close sidebar when clicking outside on mobile
        document.addEventListener('click', (e) => {
            if (window.innerWidth <= 768 &&
                !sidebar.contains(e.target) &&
                !menuToggle.contains(e.target) &&
                sidebar.classList.contains('open')) {
                sidebar.classList.remove('open');
            }
        });

        // Code Copy Implementation
        document.addEventListener('click', async (e) => {
            if (e.target.classList.contains('code-copy')) {
                const btn = e.target;
                const wrapper = btn.closest('.code-block-wrapper');
                const codeInner = wrapper.querySelector('.code-inner');

                // Collect text from each code-line to ensure correct line breaks
                const codeCells = Array.from(codeInner.querySelectorAll('.hljs-ln-code'));
                const textToCopy = codeCells.length > 0
                    ? codeCells.map(cell => cell.innerText).join('\n')
                    : codeInner.innerText;

                try {
                    await navigator.clipboard.writeText(textToCopy);

                    // Visual feedback
                    const originalText = btn.textContent;
                    btn.textContent = 'Copied!';
                    btn.classList.add('success');

                    setTimeout(() => {
                        btn.textContent = originalText;
                        btn.classList.remove('success');
                    }, 2000);
                } catch (err) {
                    console.error('Failed to copy code:', err);
                    btn.textContent = 'Error';
                }
            }
        });
    </script>
</body>

</html>